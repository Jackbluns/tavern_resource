function extract_style_node(style){return $("<style>").attr("id",`script_custom_style-${style.title}`).text(style.code)}$((async()=>{const style_nodes=(await function get_styles(){return getTavernRegexes().filter((regex=>regex.enabled&&regex.script_name.includes("样式-"))).map((regex=>({title:regex.script_name.replace("样式-","").replaceAll(/【.+?】/gs,""),code:regex.replace_string})))}()).map(extract_style_node);!function reappend_styles(nodes){const head=$("head",window.parent.document);head.find("#script_custom_style").remove(),head.append(nodes)}($("<div>").attr("id","script_custom_style").append(style_nodes))}));